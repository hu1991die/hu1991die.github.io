<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>git基础快速入门 | 鬼脚飞&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="一、git的安装目前我们移动组主要是Windows版本和Mac版本
1、Windows版本直接前往git官网下载msysgit安装包(http://msysgit.github.io/)进行安装即可，安装流程和一般的windows软件的安装流程差不多，没什么区别。
2、Mac版本Mac已经自带了git，无需安装。
二、配置git提交的用户名和邮件
这样做的目的是为了在git的log日志里面可以清楚">
<meta property="og:type" content="article">
<meta property="og:title" content="git基础快速入门">
<meta property="og:url" content="http://yoursite.com/2016/09/21/git基础快速入门/index.html">
<meta property="og:site_name" content="鬼脚飞's Blog">
<meta property="og:description" content="一、git的安装目前我们移动组主要是Windows版本和Mac版本
1、Windows版本直接前往git官网下载msysgit安装包(http://msysgit.github.io/)进行安装即可，安装流程和一般的windows软件的安装流程差不多，没什么区别。
2、Mac版本Mac已经自带了git，无需安装。
二、配置git提交的用户名和邮件
这样做的目的是为了在git的log日志里面可以清楚">
<meta property="og:image" content="http://i.imgur.com/MNkg0ks.png">
<meta property="og:image" content="http://i.imgur.com/rSbyYsA.png">
<meta property="og:image" content="http://i.imgur.com/qWCGuBw.png">
<meta property="og:image" content="http://i.imgur.com/ze0RNYV.png">
<meta property="og:image" content="http://i.imgur.com/z6c24Y1.png">
<meta property="og:image" content="http://i.imgur.com/6L3Z0Wk.png">
<meta property="og:image" content="http://i.imgur.com/atUvNra.png">
<meta property="og:updated_time" content="2016-09-21T11:20:07.116Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="git基础快速入门">
<meta name="twitter:description" content="一、git的安装目前我们移动组主要是Windows版本和Mac版本
1、Windows版本直接前往git官网下载msysgit安装包(http://msysgit.github.io/)进行安装即可，安装流程和一般的windows软件的安装流程差不多，没什么区别。
2、Mac版本Mac已经自带了git，无需安装。
二、配置git提交的用户名和邮件
这样做的目的是为了在git的log日志里面可以清楚">
<meta name="twitter:image" content="http://i.imgur.com/MNkg0ks.png">
  
    <link rel="alternative" href="/atom.xml" title="鬼脚飞&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="null" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">hu1991die</a></h1>
		</hgroup>

		
		<p class="header-subtitle">没有梦想 何必远方！</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Menu</li>
						<li>Tags</li>
						
						<li>Links</li>
						
						
						<li>Über</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
							<li><a href="/tags/随笔">随笔</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/hu1991die" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/hu1991die" title="weibo">weibo</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Hexo/" style="font-size: 20px;">Hexo</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/java/" style="font-size: 10px;">java</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/tomcat/" style="font-size: 10px;">tomcat</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">奥巴马的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">卡卡的美丽传说</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">本泽马的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">吉格斯的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">习大大大不同</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">托蒂的博客</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">我是谁，我从哪里来，我到哪里去？我就是我，是颜色不一样的吃货…</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">hu1991die</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="null" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">hu1991die</h1>
			</hgroup>
			
			<p class="header-subtitle">没有梦想 何必远方！</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/tags/随笔">随笔</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/hu1991die" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/hu1991die" title="weibo">weibo</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap"><article id="post-git基础快速入门" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/09/21/git基础快速入门/" class="article-date">
  	<time datetime="2016-09-21T09:46:40.000Z" itemprop="datePublished">2016-09-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      git基础快速入门
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/">git</a></li></ul>
	</div>

        
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Blog/">Blog</a>
	</div>


        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="一、git的安装"><a href="#一、git的安装" class="headerlink" title="一、git的安装"></a>一、git的安装</h2><p>目前我们移动组主要是<code>Windows</code>版本和<code>Mac</code>版本</p>
<h3 id="1、Windows版本"><a href="#1、Windows版本" class="headerlink" title="1、Windows版本"></a>1、Windows版本</h3><p>直接前往git官网下载msysgit安装包(<a href="http://msysgit.github.io/" title="http://msysgit.github.io/" target="_blank" rel="external">http://msysgit.github.io/</a>)进行安装即可，安装流程和一般的windows软件的安装流程差不多，没什么区别。</p>
<h3 id="2、Mac版本"><a href="#2、Mac版本" class="headerlink" title="2、Mac版本"></a>2、Mac版本</h3><p>Mac已经自带了git，无需安装。</p>
<h2 id="二、配置git提交的用户名和邮件"><a href="#二、配置git提交的用户名和邮件" class="headerlink" title="二、配置git提交的用户名和邮件"></a>二、配置git提交的用户名和邮件</h2><blockquote>
<p>这样做的目的是为了在git的log日志里面可以清楚的区分出每次的提交人是谁，以防日后出了问题能够立马清晰准确的定位出是哪个屌丝挖的坑，操作步骤：</p>
</blockquote>
<h3 id="1、Windows"><a href="#1、Windows" class="headerlink" title="1、Windows"></a>1、Windows</h3><p>随便在哪个空白位置右键，然后——》<code>git bash</code>，调出git的命令控制台。</p>
<h3 id="2、Mac"><a href="#2、Mac" class="headerlink" title="2、Mac"></a>2、Mac</h3><p>打开<strong>Terminal</strong>终端即可。</p>
<p>输入以下命令：</p>
<pre><code>$ git config --global user.name &quot;Your Name（用户名）&quot;

$ git config --global user.email &quot;email@example.com（邮箱）&quot;
</code></pre><p>这里简单的说明一下，加上<code>--global</code>参数是表示配置的全局范围，针对所有的git项目而言的，当然也可以分别给某一个项目配置，进入到某个项目里面，去掉<code>--global</code>参数即可。</p>
<h2 id="三、生成-SSHKey"><a href="#三、生成-SSHKey" class="headerlink" title="三、生成 SSHKey"></a>三、生成 SSHKey</h2><blockquote>
<p>git推荐使用SSH协议传输文件（代码），会生成一个公钥和私钥，公钥配置在服务端，每次可以省去验证，方便快捷。当然使用https协议也是可以的，只不过是每次都需要输入用户名和密码，相对来说比较繁琐。</p>
</blockquote>
<p>步骤：任意空白处右键调出<code>git Bash</code>命令控制台，,如果是Mac系统，打开终端就行了，输入以下命令：</p>
<pre><code>$ ssh-keygen -t rsa -C &quot;youremail@example.com&quot;
</code></pre><p>然后一路回车，使用默认值即可，应该是需要3个回车的，设置密码为空(注意按3个回车的时候别输入其他的，不然设置的密码不为空，你就等着每次提交输入密码吧)，如果一切顺利的话，可以在用户主目录里找到<code>.ssh</code>目录，里面有<code>id_rsa</code>和<code>id_rsa.pub</code>两个文件，这两个就是SSH Key的秘钥对，<code>id_rsa</code>是私钥，不能泄露出去，<code>id_rsa.pub</code>是公钥，可以放心地告诉任何人。一般这个<code>id_rsa.pub</code>里面的内容是要配到git服务器上面的（由统一的人去管理），然后我们就可以从服务器上面拿代码和提交代码了。</p>
<h3 id="1、Windows系统"><a href="#1、Windows系统" class="headerlink" title="1、Windows系统"></a>1、Windows系统</h3><p><img src="http://i.imgur.com/MNkg0ks.png" alt=""></p>
<h3 id="2、Mac系统"><a href="#2、Mac系统" class="headerlink" title="2、Mac系统"></a>2、Mac系统</h3><p>打开<strong>Terminal</strong>终端，</p>
<pre><code>cd /Users/feizi/.ssh/

ls

cat id_rsa.pub
</code></pre><p>之后复制里面的内容并粘贴到<code>github</code>或者<code>gerrit</code>或者码云这一类的代码管理系统的SSH公钥配置的地方即可。</p>
<h2 id="四、获取代码与提交代码"><a href="#四、获取代码与提交代码" class="headerlink" title="四、获取代码与提交代码"></a>四、获取代码与提交代码</h2><p><strong>首先给大家介绍几个概念，一个是本地<code>worksapce</code>工作区，一个是<code>stash</code>暂存区，一个是<code>localRepository</code>本地库，一个是<code>remoteRepository</code>远程库。</strong></p>
<p><img src="http://i.imgur.com/rSbyYsA.png" alt=""></p>
<p><img src="http://i.imgur.com/qWCGuBw.png" alt=""></p>
<h3 id="1、从git服务器下载代码到本地"><a href="#1、从git服务器下载代码到本地" class="headerlink" title="1、从git服务器下载代码到本地"></a>1、从git服务器下载代码到本地</h3><pre><code>git clone ssh://xxxxxxx@www.dreamtech.com.cn:29418/zxy-mobile
</code></pre><h3 id="2、查看远程分支和本地分支"><a href="#2、查看远程分支和本地分支" class="headerlink" title="2、查看远程分支和本地分支"></a>2、查看远程分支和本地分支</h3><p><em>查看远程所有分支</em></p>
<pre><code>git branch -a  
</code></pre><p><em>如果你只想看本地分支</em></p>
<pre><code>git branch
</code></pre><h3 id="3、切换分支，创建分支，删除分支"><a href="#3、切换分支，创建分支，删除分支" class="headerlink" title="3、切换分支，创建分支，删除分支"></a>3、切换分支，创建分支，删除分支</h3><p>只切换分支</p>
<pre><code>git checkout dev
</code></pre><p>只创建分支</p>
<pre><code>git branch dev
</code></pre><p>删除分支，（注意：这个需要先切换到其他的分支，如master分支，再执行以下的命令）</p>
<pre><code>git checkout master

git branch -D dev
</code></pre><h3 id="4、创建分支并且切换分支"><a href="#4、创建分支并且切换分支" class="headerlink" title="4、创建分支并且切换分支"></a>4、创建分支并且切换分支</h3><p><em>基于远程分支创建本地分支并且切换到该本地分支，基于远程dev分支在本地创建一个dev分支，并且切换到dev分支。</em></p>
<pre><code>git checkout -b  dev origin/dev  
</code></pre><p>或者：</p>
<pre><code>git checkout -b dev
</code></pre><h3 id="5、暂存本地工作区的修改"><a href="#5、暂存本地工作区的修改" class="headerlink" title="5、暂存本地工作区的修改"></a>5、暂存本地工作区的修改</h3><pre><code>git add -A
</code></pre><p>通常用（”.”代表所有文件，注意”.”前面的空格）</p>
<pre><code>git add .
</code></pre><h3 id="6、提交暂存区的内容到本地库中"><a href="#6、提交暂存区的内容到本地库中" class="headerlink" title="6、提交暂存区的内容到本地库中"></a>6、提交暂存区的内容到本地库中</h3><pre><code>git commit -m &quot;注释&quot;
</code></pre><h3 id="7、抓取远程库最新提交的代码"><a href="#7、抓取远程库最新提交的代码" class="headerlink" title="7、抓取远程库最新提交的代码"></a>7、抓取远程库最新提交的代码</h3><pre><code>git fetch origin dev
</code></pre><p>或者 </p>
<pre><code>git fetch
</code></pre><p><em>git fetch是简写(git 会自动搜索和当前分支名相同的远程分支名)</em></p>
<h3 id="8、将本地修改与远程进行合并此时，若遇到冲突，需要先手动解决冲突（例如在idea中先解决冲突，再执行合并）"><a href="#8、将本地修改与远程进行合并此时，若遇到冲突，需要先手动解决冲突（例如在idea中先解决冲突，再执行合并）" class="headerlink" title="8、将本地修改与远程进行合并此时，若遇到冲突，需要先手动解决冲突（例如在idea中先解决冲突，再执行合并）"></a>8、将本地修改与远程进行合并此时，若遇到冲突，需要先手动解决冲突（例如在<code>idea</code>中先解决冲突，再执行合并）</h3><pre><code>git rebase origin/dev
</code></pre><p>这个时候如果出现了冲突，就先解决冲突，冲突解决完之后，需先执行<code>git add -A</code>命令，然后再执行<code>git rebase --continue</code>继续合并</p>
<h3 id="9、安装changeId自动生成hook"><a href="#9、安装changeId自动生成hook" class="headerlink" title="9、安装changeId自动生成hook"></a>9、安装changeId自动生成hook</h3><p><em>注意：前面已经提过了，因为我这里使用了gerrit代码审查工具，所以每个人提交的时候就必须要先生成这个<code>changID</code>值，如果没有这个<code>changID</code>,则不能到gerrit代码审核工具中进行代码审核操作了。。而gerrit代码审查工具的存在就没有意义了。</em></p>
<p>操作步骤：进入到工作空间（workspace）中的仓库目录（比如说zxy-mobile），然后调出<code>git bash</code>控制台，输入如下命令：</p>
<pre><code>scp -p -P 29418 username@www.dreamtech.com.cn:hooks/commit-msg .git/hooks/
</code></pre><h3 id="10、将本地仓库中的代码push推送到远程仓库中"><a href="#10、将本地仓库中的代码push推送到远程仓库中" class="headerlink" title="10、将本地仓库中的代码push推送到远程仓库中"></a>10、将本地仓库中的代码push推送到远程仓库中</h3><p>这里需要注意：</p>
<p><em>我们也可以直接用命令 <code>git push origin master</code> 将代码直接push到远程代码仓库，但是由于现在我们这边是使用了gerrit代码审查工具，所有不能直接这样推送，必须使用<code>git push origin head:refs/for/master</code>这个命令将代码推送到gerrit服务器上，然后我们再登录到gerrit中（会有一个web页面供我们操作）进行审核之后，执行最后合并，此时如果报错的话 有可能是因为你的changID 没有生成，使用之前介绍的命令生成changID。</em></p>
<p>最后再执行：</p>
<pre><code>git push origin HEAD:refs/for/dev
</code></pre><p>或者</p>
<pre><code>git push origin head:refs/for/dev
</code></pre><h3 id="11、登录到gerrit服务器中，进行代码审核，然后执行合并（这一步先不管，专人统一审核，合并提交代码到远程中央仓库）"><a href="#11、登录到gerrit服务器中，进行代码审核，然后执行合并（这一步先不管，专人统一审核，合并提交代码到远程中央仓库）" class="headerlink" title="11、登录到gerrit服务器中，进行代码审核，然后执行合并（这一步先不管，专人统一审核，合并提交代码到远程中央仓库）"></a>11、登录到gerrit服务器中，进行代码审核，然后执行合并（这一步先不管，专人统一审核，合并提交代码到远程中央仓库）</h3><h2 id="五，撤销修改"><a href="#五，撤销修改" class="headerlink" title="五，撤销修改"></a>五，撤销修改</h2><h3 id="1、场景一：当你改乱了工作区某个文件的内容，想直接丢弃工作区的修改时，使用"><a href="#1、场景一：当你改乱了工作区某个文件的内容，想直接丢弃工作区的修改时，使用" class="headerlink" title="1、场景一：当你改乱了工作区某个文件的内容，想直接丢弃工作区的修改时，使用"></a>1、场景一：当你改乱了工作区某个文件的内容，想直接丢弃工作区的修改时，使用</h3><pre><code>git checkout -- filename
</code></pre><p>通常用（”.”代表所有文件，注意”.”前面的空格）</p>
<pre><code>git checkout -- .
</code></pre><h3 id="2、场景二：当你不但改乱了工作区的某个文件的内容，而且还提交到了暂存区（在本地执行了commit提交，但是-还没有commit提交到远程服务器）时，想丢弃修改，分两步："><a href="#2、场景二：当你不但改乱了工作区的某个文件的内容，而且还提交到了暂存区（在本地执行了commit提交，但是-还没有commit提交到远程服务器）时，想丢弃修改，分两步：" class="headerlink" title="2、场景二：当你不但改乱了工作区的某个文件的内容，而且还提交到了暂存区（在本地执行了commit提交，但是 还没有commit提交到远程服务器）时，想丢弃修改，分两步："></a>2、场景二：当你不但改乱了工作区的某个文件的内容，而且还提交到了暂存区（在本地执行了commit提交，但是 还没有commit提交到远程服务器）时，想丢弃修改，分两步：</h3><p>第一步使用命令 </p>
<pre><code>git reset HEAD filename
</code></pre><p>通常用（”.”代表所有文件，注意”.”前面的空格）</p>
<pre><code>git reset HEAD .
</code></pre><p>就又回到了场景一。</p>
<p>第二步再按照场景一的步骤操作</p>
<h3 id="3、场景三：已经提交了和不合适的修改带版本库时，想要撤销本次修改，则可以使用版本回退，但是前提是还没有推送push到远程库"><a href="#3、场景三：已经提交了和不合适的修改带版本库时，想要撤销本次修改，则可以使用版本回退，但是前提是还没有推送push到远程库" class="headerlink" title="3、场景三：已经提交了和不合适的修改带版本库时，想要撤销本次修改，则可以使用版本回退，但是前提是还没有推送push到远程库"></a>3、场景三：已经提交了和不合适的修改带版本库时，想要撤销本次修改，则可以使用版本回退，但是前提是还没有推送push到远程库</h3><h2 id="六、版本回退"><a href="#六、版本回退" class="headerlink" title="六、版本回退"></a>六、版本回退</h2><p>HEAD指向的版本就是当前版本，因此，Git允许我们在版本的历史之间穿梭，使用命令</p>
<pre><code>git reset --soft commit_id
</code></pre><p>或者</p>
<pre><code>git reset --soft HEAD^
</code></pre><p><strong>其中，<code>HEAD^</code>表示向前回退一个版本，<code>HEAD^^</code>表示向前回退两个版本，<code>HEAD^^^</code>表示向前回退三个版本，三个以上比如100个可以使用<code>HEAD~100</code>向前回退100个版本，而<code>--soft</code>参数表示之前回退版本所提交的内容还会继续保留，并且会留存在暂存区中，<code>--hard</code>参数则表示提交的内容会丢弃，还有一个<code>--mixed</code>参数，这个表示混合，和soft有些类似，不过我一般用–soft参数的情况会多一些。</strong></p>
<p>穿梭前，用<code>git log</code>可以查看提交历史，以便确定要回退到哪个版本。<br>要重返未来，用<code>git reflog</code>查看命令历史，以便确定要回到未来的哪个版本。</p>
<h2 id="七、git-stash-用法"><a href="#七、git-stash-用法" class="headerlink" title="七、git stash 用法"></a>七、git stash 用法</h2><p>关于Git Stash的详细解释，适用场合，这里做一个说明：</p>
<blockquote>
<p>当前工作区内容已被修改，但是并未完成。这时Boss来了，说前面的分支上面有一个Bug，需要立即修复。可是我又不想提交目前的修改，因为修改没有完成。但是，不提交的话，又没有办法checkout到另外的分支。</p>
</blockquote>
<p>此时用<code>git stash</code>就相当于备份当前工作区了。然后在Checkout过去修改，就能够达到保存当前工作区，并及时恢复的作用。之后，另一个版本的bug修复完毕之后，再使用checkout切换回之前的分支，然后再使用<code>git stash pop</code>命令或者<code>git stash apply</code>命令就又可以恢复回来了。</p>
<pre><code>git stash save &quot;备注说明&quot;
</code></pre><p>备份当前的工作区的内容，从最近的一次提交中读取相关内容，让工作区保证和上次提交的内容一致。同时，将当前的工作区内容保存到Git栈中。</p>
<pre><code>git stash pop
</code></pre><p>从Git栈中读取最近一次保存的内容，恢复工作区的相关内容。由于可能存在多个Stash的内容，所以用栈来管理，pop会从最近的一个stash中读取内容并恢复。</p>
<pre><code>git stash list
</code></pre><p>显示Git栈内的所有备份，可以利用这个列表来决定从那个地方恢复。</p>
<pre><code>git stash clear
</code></pre><p>清空Git栈。此时使用gitg等图形化工具会发现，原来stash的哪些节点都消失了。</p>
<h2 id="八、git如何放弃所有本地修改"><a href="#八、git如何放弃所有本地修改" class="headerlink" title="八、git如何放弃所有本地修改"></a>八、git如何放弃所有本地修改</h2><pre><code>git checkout . #本地所有修改的。没有的提交的，都返回到原来的状态 

git stash #把所有没有提交的修改暂存到stash里面。可用git stash pop回复。 

git reset --hard HASH #返回到某个节点，不保留修改。

git reset --soft HASH #返回到某个节点。保留修改
</code></pre><h2 id="九、Git只更新远程库中的单个或者指定的文件"><a href="#九、Git只更新远程库中的单个或者指定的文件" class="headerlink" title="九、Git只更新远程库中的单个或者指定的文件"></a>九、Git只更新远程库中的单个或者指定的文件</h2><p>在开发过程中，我们有的时候并不需要更新远程所有的文件，而只需要更新某一个或者说特定的文件，如何操作呢？</p>
<blockquote>
<p>SVN更新单个文件只需要<code>svn up file/to/updat</code>，非常简单，而且没有任何歧义。<br>但是git由于在远程服务器和本地都有一个代码库，这样只更新单个文件的话比SVN稍微要麻烦一点。</p>
</blockquote>
<h3 id="1、如果想拿远程git服务器上的最新版本（或者某个特定版本）去覆盖本地的修改，可以使用git-pull命令，"><a href="#1、如果想拿远程git服务器上的最新版本（或者某个特定版本）去覆盖本地的修改，可以使用git-pull命令，" class="headerlink" title="1、如果想拿远程git服务器上的最新版本（或者某个特定版本）去覆盖本地的修改，可以使用git pull命令，"></a>1、如果想拿远程git服务器上的最新版本（或者某个特定版本）去覆盖本地的修改，可以使用<code>git pull</code>命令，</h3><p>但是这样会全面更新本地代码库和工作拷贝。</p>
<h3 id="2、如果想放弃本地工作拷贝所做的修改，可以使用git-checkout-filePath（具体文件的路径）命令，但该命令只能用本地库覆盖你的工作拷贝，并不能取得远程版本的更新。"><a href="#2、如果想放弃本地工作拷贝所做的修改，可以使用git-checkout-filePath（具体文件的路径）命令，但该命令只能用本地库覆盖你的工作拷贝，并不能取得远程版本的更新。" class="headerlink" title="2、如果想放弃本地工作拷贝所做的修改，可以使用git checkout filePath（具体文件的路径）命令，但该命令只能用本地库覆盖你的工作拷贝，并不能取得远程版本的更新。"></a>2、如果想放弃本地工作拷贝所做的修改，可以使用<code>git checkout filePath（具体文件的路径）</code>命令，但该命令只能用本地库覆盖你的工作拷贝，并不能取得远程版本的更新。</h3><p>所以，正确的方法应该是先更新本地库（但是不更新工作拷贝），然后用本地库来更新单个的工作拷贝文件。</p>
<blockquote>
<p>如，假设说开发小伙A在本地新增或者是修改了某个文件file1,然后提交到远程库了，之后开发小伙B想要拿到这个file1文件，（注意场景：这里是只想拿到这一个文件file1，小伙A有可能提交了多个文件），那么小伙B这边可以这么做：</p>
</blockquote>
<p>第一步，抓取远程库最新修改：</p>
<pre><code>git fetch
</code></pre><p>第二步，指定某个文件进行更新:</p>
<pre><code>git checkout origin/dev -- filePath（具体文件的路径）
</code></pre><p>具体示例：<br>假设file1文件的路径为：</p>
<pre><code>code/src/main/java/com/zxy/mlds/base/constant/APIMessage.java

1、git fetch

2、git checkout origin/saas-8.1-snapshot -- code/src/main/java/com/zxy/mlds/base/constant/APIMessage.java
</code></pre><h2 id="十、分支的合并"><a href="#十、分支的合并" class="headerlink" title="十、分支的合并"></a>十、分支的合并</h2><blockquote>
<p>假设我们当前的版本有一个master主干分支，同时还有一个dev开发分支，因为通常情况下我们做开发都是在dev分支下进行的开发，之后开发完成后需要将dev分支开发的功能同步到master主干分支上，也就是合并到master分支上，那么怎么操作呢？</p>
</blockquote>
<h3 id="1、首先切换到需要合并的分支上，打个比方说：现在我们需要将dev分支合并到master主干分支，第一步：首先我们需要切换到master主干分支上"><a href="#1、首先切换到需要合并的分支上，打个比方说：现在我们需要将dev分支合并到master主干分支，第一步：首先我们需要切换到master主干分支上" class="headerlink" title="1、首先切换到需要合并的分支上，打个比方说：现在我们需要将dev分支合并到master主干分支，第一步：首先我们需要切换到master主干分支上"></a>1、首先切换到需要合并的分支上，打个比方说：现在我们需要将dev分支合并到master主干分支，第一步：首先我们需要切换到master主干分支上</h3><pre><code>git checkout master
</code></pre><h3 id="2、为了保证当前的本地master分支的内容与远程服务器中master分支的内容保持同步，我们需要先同步一下代码，执行："><a href="#2、为了保证当前的本地master分支的内容与远程服务器中master分支的内容保持同步，我们需要先同步一下代码，执行：" class="headerlink" title="2、为了保证当前的本地master分支的内容与远程服务器中master分支的内容保持同步，我们需要先同步一下代码，执行："></a>2、为了保证当前的本地master分支的内容与远程服务器中master分支的内容保持同步，我们需要先同步一下代码，执行：</h3><pre><code>git pull origin master
</code></pre><p>通常我们会拆成两个步骤来完成：</p>
<pre><code>git fetch origin master
</code></pre><p>或者</p>
<pre><code>git fetch

git rebase origin/master
</code></pre><h3 id="3、将dev分支合并到当前master分支"><a href="#3、将dev分支合并到当前master分支" class="headerlink" title="3、将dev分支合并到当前master分支"></a>3、将dev分支合并到当前master分支</h3><pre><code>git merge dev
</code></pre><p>或者</p>
<pre><code>git merge --no-ff dev
</code></pre><h3 id="4、此时如果在合并的过程中出现了冲突，则需要先解决冲突，解决方法同svn差不多"><a href="#4、此时如果在合并的过程中出现了冲突，则需要先解决冲突，解决方法同svn差不多" class="headerlink" title="4、此时如果在合并的过程中出现了冲突，则需要先解决冲突，解决方法同svn差不多"></a>4、此时如果在合并的过程中出现了冲突，则需要先解决冲突，解决方法同svn差不多</h3><h3 id="5、冲突解决完之后，再继续执行合并操作"><a href="#5、冲突解决完之后，再继续执行合并操作" class="headerlink" title="5、冲突解决完之后，再继续执行合并操作"></a>5、冲突解决完之后，再继续执行合并操作</h3><pre><code>git add -A

git rebase --continue
</code></pre><h3 id="6、合并成功之后，我们再将master分支push推送到远程库中即可"><a href="#6、合并成功之后，我们再将master分支push推送到远程库中即可" class="headerlink" title="6、合并成功之后，我们再将master分支push推送到远程库中即可"></a>6、合并成功之后，我们再将master分支push推送到远程库中即可</h3><pre><code>git push origin master
</code></pre><h2 id="十一、-如何合并某个分支中的一个或者是几个commit（s）提交"><a href="#十一、-如何合并某个分支中的一个或者是几个commit（s）提交" class="headerlink" title="十一、 如何合并某个分支中的一个或者是几个commit（s）提交"></a>十一、 如何合并某个分支中的一个或者是几个commit（s）提交</h2><p><code>git cherry-pick</code>可以选择某一个分支中的一个或者是几个<code>commit（s）</code>来进行合并操作。<br>在实际应用中，我们可能会遇到这样的情况：</p>
<blockquote>
<p>例如，假设现在我们有个稳定版本的分支叫做release，另外还有一个开发版本的分支叫做dev，然后我们在dev开发分支里面修改了一些东西（新增了几个个功能，或者是修复了几个bug等等），之后commit了几个（这里注意是几个）更新操作（也就是提交到了本地库），但是后来我们发现同样需要在release分支上同步应用某个更新，我们不能直接将release分支和dev分支执行合并，因为这样将会导致稳定版本混乱，但是确实又想增加一个dev分支中的某个功能到release分支中来，那么这时我们就可以使用cherry-pick命令来解决这个问题了，就是对已经存在的commit进行再次commit（提交）操作。</p>
</blockquote>
<p>简单用法：</p>
<pre><code>git cherry-pick &lt;commit_id&gt;
</code></pre><p>注意：当执行完<code>cherry-pick</code>以后，将会生成一个新的提交，这个新的提交的哈希值和原来的不一致，但标识名是一样的。</p>
<h3 id="1、首先，切换到dev开发分支"><a href="#1、首先，切换到dev开发分支" class="headerlink" title="1、首先，切换到dev开发分支"></a>1、首先，切换到dev开发分支</h3><pre><code>git checkout dev
</code></pre><h3 id="2、然后找到dev分支的commitId-38361a6（说明：本来commitId是38361a68138140827b31b72f8bbfd88b3705d77a这么多位，但是可以只取前7位就行了。使用git-log命令可以查看提交的commitId）"><a href="#2、然后找到dev分支的commitId-38361a6（说明：本来commitId是38361a68138140827b31b72f8bbfd88b3705d77a这么多位，但是可以只取前7位就行了。使用git-log命令可以查看提交的commitId）" class="headerlink" title="2、然后找到dev分支的commitId 38361a6（说明：本来commitId是38361a68138140827b31b72f8bbfd88b3705d77a这么多位，但是可以只取前7位就行了。使用git log命令可以查看提交的commitId）"></a>2、然后找到dev分支的<code>commitId 38361a6</code>（<em>说明：本来commitId是38361a68138140827b31b72f8bbfd88b3705d77a这么多位，但是可以只取前7位就行了。使用git log命令可以查看提交的commitId</em>）</h3><pre><code>git log 

commit 38361a68138140827b31b72f8bbfd88b3705d77a
</code></pre><h3 id="3、之后再次切换回release分支"><a href="#3、之后再次切换回release分支" class="headerlink" title="3、之后再次切换回release分支"></a>3、之后再次切换回release分支</h3><pre><code>git checkout release
</code></pre><h3 id="4、更新一下release版本的代码，保持与远程仓库的同步"><a href="#4、更新一下release版本的代码，保持与远程仓库的同步" class="headerlink" title="4、更新一下release版本的代码，保持与远程仓库的同步"></a>4、更新一下release版本的代码，保持与远程仓库的同步</h3><pre><code>git fetch origin release

git rebase orgin/release
</code></pre><h3 id="5、执行cherry-pick命令，同步dev分支的修改代码"><a href="#5、执行cherry-pick命令，同步dev分支的修改代码" class="headerlink" title="5、执行cherry-pick命令，同步dev分支的修改代码"></a>5、执行<code>cherry-pick</code>命令，同步dev分支的修改代码</h3><pre><code>git cherry-pick 38361a6
</code></pre><h3 id="6、如果顺利，就会出现下面这段提示，当然也有可能不出现这段提示，只要没报冲突，则说明代码同步成功了。"><a href="#6、如果顺利，就会出现下面这段提示，当然也有可能不出现这段提示，只要没报冲突，则说明代码同步成功了。" class="headerlink" title="6、如果顺利，就会出现下面这段提示，当然也有可能不出现这段提示，只要没报冲突，则说明代码同步成功了。"></a>6、如果顺利，就会出现下面这段提示，当然也有可能不出现这段提示，只要没报冲突，则说明代码同步成功了。</h3><blockquote>
<p>Finished one cherry-pick</p>
<p>On branch old_cc</p>
<p>Your branch is ahead of ‘origin/old_cc’ by 3 commits.</p>
</blockquote>
<h3 id="7、如果在cherry-pick的过程中出现了冲突就手动解决冲突，解决完冲突之后根据提示继续执行同步。"><a href="#7、如果在cherry-pick的过程中出现了冲突就手动解决冲突，解决完冲突之后根据提示继续执行同步。" class="headerlink" title="7、如果在cherry-pick的过程中出现了冲突就手动解决冲突，解决完冲突之后根据提示继续执行同步。"></a>7、如果在<code>cherry-pick</code>的过程中出现了冲突就手动解决冲突，解决完冲突之后根据提示继续执行同步。</h3><pre><code>git add -A 

git cherry-pick --continue
</code></pre><h3 id="8、最后push到远程仓库。"><a href="#8、最后push到远程仓库。" class="headerlink" title="8、最后push到远程仓库。"></a>8、最后push到远程仓库。</h3><pre><code>git push origin release
</code></pre><h2 id="十二、一个完整的团队开发流程"><a href="#十二、一个完整的团队开发流程" class="headerlink" title="十二、一个完整的团队开发流程"></a>十二、一个完整的团队开发流程</h2><pre><code>1、git clone ssh://xxx@www.dreamtech.com:12256/xxx

2、git checkout -b dev origin/dev 或者 git checkout -b dev

3、git status

4、scp -p -P 29418 username@www.dreamtech.com.cn:hooks/commit-msg .git/hooks/（只需执行一次，第一次执行即可,后面这一步就不需要了）

5、git add -A 或者 git add .

6、git commit -m &quot;注释&quot;

7、git fetch origin dev

8、git rebase origin/dev

这个时候如果出现冲突，注意出现冲突只可能会是在合并(rebase)时出现冲突，那我们就直接解决冲突即可，解决完之后,再依次执行：

git add -A

git rebase --continue

9、git push origin HEAD:refs/for/dev

或者如果远程库（gerrit仓库）只是一个空的仓库的话，这就需要先将本地库的代码关联到gerrit远程库（即将本地库与远程库建立映射关系），之后再推送上去。执行以下命令：

git remote add origin ssh://xxx@www.dreamtech.com:12256/xxx

git push -u origin HEAD:refs/for/master

或者如果不走代码审核流程则可以直接使用

git push -u origin master

这里加了-u参数，首次推送的话需要加上这个-u参数，以后都不需要了。
</code></pre><h2 id="十三、一些拓展-详见wiki"><a href="#十三、一些拓展-详见wiki" class="headerlink" title="十三、一些拓展,详见wiki"></a>十三、一些拓展,详见wiki</h2><h3 id="1-从git服务上门下载代码到本地"><a href="#1-从git服务上门下载代码到本地" class="headerlink" title="1.从git服务上门下载代码到本地"></a>1.从git服务上门下载代码到本地</h3><pre><code>git clone ssh://xxxxxxx@www.dreamtech.com.cn:29418/2b/zxy-cloud
</code></pre><h3 id="2-查看远程分支和本地分支"><a href="#2-查看远程分支和本地分支" class="headerlink" title="2.查看远程分支和本地分支"></a>2.查看远程分支和本地分支</h3><pre><code>git branch -a   
</code></pre><p>如果你只想看本地分支  </p>
<pre><code>git branch
</code></pre><h3 id="3-切换分支"><a href="#3-切换分支" class="headerlink" title="3.切换分支"></a>3.切换分支</h3><pre><code>git checkout -b dev origin/dev 基于远程dev分支创建一个本地dev分支，并且切换到该本地dev分支
</code></pre><h3 id="4-提交代码到远程"><a href="#4-提交代码到远程" class="headerlink" title="4.提交代码到远程"></a>4.提交代码到远程</h3><pre><code>git status   查看下你更改的文件有哪些

git stash暂存本地变更的代码，不要以为找不回了。

git fetch   拉去远程的代码到暂存区

git rebase 合并你拉去的暂存区的代码和本地代码进行合并

git stash pop   还原你本地变更的代码，这里可能产生冲突，解决即可，类似svn。如果你不想解决冲突，要以远程为主，那就采用git checkout  –  你要还原的文件

git status  查看你更新的文件

git  add 你要提交的文件   这里可以采用通配符的形式，如 git commit add src/main/java/com/* 

git commit -m &apos;注释&apos; 提交你要提交的代码到暂存区，这个时候还没有到远程

git push origin head:refs/for/分支名  这个是才是提交到你远程分支

登录gretter网站   http://www.dreamtech.com.cn:90/#/  指定审核人进行审核你的代码
</code></pre><h3 id="5-提交回滚"><a href="#5-提交回滚" class="headerlink" title="5.提交回滚"></a>5.提交回滚</h3><pre><code>git log  查看提交日志，找到你要会滚的日志的commitId

git reset  --soft  commitId回滚到你提交点，保留本地的修改代码   修改完成后，走提交流程

git reset  --mixed  commitId回滚到你提交点，保留本地的修改代码   修改完成后，走提交流程

git  reset --hard  commitiId 回滚到你提交点，丢弃本地的修改代码修改完成后，走提交流程
</code></pre><p>以上两条命令，根据情况二选一即可</p>
<h3 id="6-追加本地提交"><a href="#6-追加本地提交" class="headerlink" title="6.追加本地提交"></a>6.追加本地提交</h3><p>有时候我们提交到本地，还没有推送到远程的时候，如果你忘记了和修改了，又想提交代码，可以使用追加提交</p>
<pre><code>git add .

git commit --amend 修改提交日志，退出即可
</code></pre><h3 id="7-修改远程分支和本地分支的映射地址"><a href="#7-修改远程分支和本地分支的映射地址" class="headerlink" title="7.修改远程分支和本地分支的映射地址"></a>7.修改远程分支和本地分支的映射地址</h3><pre><code>git remote -v 查看你远程的映射关系   一般名字都叫origin

git remote rm origin   删除远程分支和你本地分支的映射，不要担心，不是删除远程分支，相当于删除linux里面的软连接引用

git remote add 远程仓库名 远程仓库地址  添加新的远程分支映射   如 git  remote add origin ssh://xxxxxxx@www.dreamtech.com.cn:29418/2b/zxy-cloud

git fetch --all 拉去远程分支信息  这个时候用 git branch -a 你就可以看到新远程分支的信息了
</code></pre><p>这个应用主要用到，我们把一个项目向迁移到另一个远程分支里面去，以前我们是修改.git文件里面的内容去做，个人推荐命令</p>
<h3 id="8-日志查看"><a href="#8-日志查看" class="headerlink" title="8  日志查看"></a>8  日志查看</h3><pre><code>git log 查看日志

git log -3   只列出最近三次的提交历史

git log -p   会显示出每次提交做了哪些改动

git shortlog -s -n   会显示出总的提交次数
</code></pre><h3 id="9-比较差异"><a href="#9-比较差异" class="headerlink" title="9 比较差异"></a>9 比较差异</h3><pre><code>git diff 比较了工作区与index的差异

git diff HEAD 比较了工作区与仓库中最近一次的提交间的差异

git diff --cached 比较了index与仓库中最近一次的提交间的差异

git diff HEAD^ HEAD 比较了当最近的这次提交与上一次提交之间的差异

git diff 指定的分支 比较了当前分支的HEAD与指定分支的HEAD之间的差异

git diff 分支1..分支2 比较了分支1到分支2之间的变动
</code></pre><h2 id="十四、如何将本地的代码push到github仓库"><a href="#十四、如何将本地的代码push到github仓库" class="headerlink" title="十四、如何将本地的代码push到github仓库"></a>十四、如何将本地的代码push到github仓库</h2><h3 id="1、注册GitHub账号以及创建仓库"><a href="#1、注册GitHub账号以及创建仓库" class="headerlink" title="1、注册GitHub账号以及创建仓库"></a>1、注册GitHub账号以及创建仓库</h3><blockquote>
<p>登录gitHub官网注册gitHub账号，登录成功之后找到<code>Create a New Repository</code>创建仓库（免费用户只能建公共仓库），之后会出现一些仓库的配置信息，这里只需填写一个仓库名就可以了，填写完直接点击<code>“Create repository”</code>创建按钮即可。</p>
</blockquote>
<p><img src="http://i.imgur.com/ze0RNYV.png" alt=""></p>
<h3 id="2、之后就根据github的帮助提示一步步操作就可以了。"><a href="#2、之后就根据github的帮助提示一步步操作就可以了。" class="headerlink" title="2、之后就根据github的帮助提示一步步操作就可以了。"></a>2、之后就根据github的帮助提示一步步操作就可以了。</h3><p><img src="http://i.imgur.com/z6c24Y1.png" alt=""></p>
<p><strong>这里注意：一种是本地还没有仓库，需要创建（<code>git init</code>）一个仓库，一种是本地已经是一个git仓库了，需要将本地库推送到<code>github</code>远程仓库中去。分别对应上面的两种情况，直接根据提示命令一步步操作即可。</strong></p>
<h2 id="将本地的代码推送到远程gerrit仓库的步骤："><a href="#将本地的代码推送到远程gerrit仓库的步骤：" class="headerlink" title="将本地的代码推送到远程gerrit仓库的步骤："></a>将本地的代码推送到远程<code>gerrit</code>仓库的步骤：</h2><blockquote>
<p>假如说现在你本地有一个<code>project</code>，现在需要将本地的<code>project</code>里面的代码提交到远程服务器仓库进行版本管理，并且需要经过<code>gerrit</code>审核。那么可以这样做：</p>
</blockquote>
<h3 id="1、登录gerrit的web界面，使用有权限的账号（比如admin管理员账号）登录，并且创建一个project。例如：创建一个叫2c-zxy-mobile的project"><a href="#1、登录gerrit的web界面，使用有权限的账号（比如admin管理员账号）登录，并且创建一个project。例如：创建一个叫2c-zxy-mobile的project" class="headerlink" title="1、登录gerrit的web界面，使用有权限的账号（比如admin管理员账号）登录，并且创建一个project。例如：创建一个叫2c/zxy-mobile的project"></a>1、登录<code>gerrit</code>的web界面，使用有权限的账号（比如admin管理员账号）登录，并且创建一个<code>project</code>。例如：创建一个叫2c/zxy-mobile的project</h3><p><img src="http://i.imgur.com/6L3Z0Wk.png" alt=""></p>
<h3 id="2、使用有权限的账号进行登录，设置其他人员（比如开发人员）的访问权限，不然的话没有权限拿代码"><a href="#2、使用有权限的账号进行登录，设置其他人员（比如开发人员）的访问权限，不然的话没有权限拿代码" class="headerlink" title="2、使用有权限的账号进行登录，设置其他人员（比如开发人员）的访问权限，不然的话没有权限拿代码"></a>2、使用有权限的账号进行登录，设置其他人员（比如开发人员）的访问权限，不然的话没有权限拿代码</h3><p><img src="http://i.imgur.com/atUvNra.png" alt=""></p>
<h3 id="3、首先打开git-bash控制台，cd到本地的project项目的根目录里面去"><a href="#3、首先打开git-bash控制台，cd到本地的project项目的根目录里面去" class="headerlink" title="3、首先打开git bash控制台，cd到本地的project项目的根目录里面去"></a>3、首先打开<code>git bash</code>控制台，<code>cd</code>到本地的project项目的根目录里面去</h3><h3 id="4、初始化仓库"><a href="#4、初始化仓库" class="headerlink" title="4、初始化仓库"></a>4、初始化仓库</h3><pre><code>git init 
</code></pre><h3 id="5、暂存工作区修改内容（在执行这个操作之前需要新建-gitignore忽略文件，忽略部分不需要提交的配置文件，这样这些文件就不会被git管理了）"><a href="#5、暂存工作区修改内容（在执行这个操作之前需要新建-gitignore忽略文件，忽略部分不需要提交的配置文件，这样这些文件就不会被git管理了）" class="headerlink" title="5、暂存工作区修改内容（在执行这个操作之前需要新建.gitignore忽略文件，忽略部分不需要提交的配置文件，这样这些文件就不会被git管理了）"></a>5、暂存工作区修改内容（在执行这个操作之前需要新建<code>.gitignore</code>忽略文件，忽略部分不需要提交的配置文件，这样这些文件就不会被git管理了）</h3><pre><code>git add -A  
</code></pre><h3 id="6、生成changeId"><a href="#6、生成changeId" class="headerlink" title="6、生成changeId"></a>6、生成changeId</h3><pre><code>scp -p -P 29418 ruanpeng@www.dreamtech.com.cn:hooks/commit-msg .git/hooks/
</code></pre><h3 id="7、提交代码到本地库"><a href="#7、提交代码到本地库" class="headerlink" title="7、提交代码到本地库"></a>7、提交代码到本地库</h3><pre><code>git commit -m &quot;init repository&quot;
</code></pre><h3 id="8、将本地仓库与远程仓库进行关联起来"><a href="#8、将本地仓库与远程仓库进行关联起来" class="headerlink" title="8、将本地仓库与远程仓库进行关联起来"></a>8、将本地仓库与远程仓库进行关联起来</h3><pre><code>git remote add origin ssh://ruanpeng@www.dreamtech.com.cn:29418/2b/zxy-mobile
</code></pre><h3 id="9、抓取远程库的代码（因为之前已经在gerrit上面新建了一个空的仓库，日志里面会记录一次提交）"><a href="#9、抓取远程库的代码（因为之前已经在gerrit上面新建了一个空的仓库，日志里面会记录一次提交）" class="headerlink" title="9、抓取远程库的代码（因为之前已经在gerrit上面新建了一个空的仓库，日志里面会记录一次提交）"></a>9、抓取远程库的代码（因为之前已经在gerrit上面新建了一个空的仓库，日志里面会记录一次提交）</h3><pre><code>git fetch origin master  
</code></pre><h3 id="10、合并一下代码（虽然远程是一个空的仓库，最好还是执行一下这个操作，这个时候git会将两次日志通过线性关联起来）"><a href="#10、合并一下代码（虽然远程是一个空的仓库，最好还是执行一下这个操作，这个时候git会将两次日志通过线性关联起来）" class="headerlink" title="10、合并一下代码（虽然远程是一个空的仓库，最好还是执行一下这个操作，这个时候git会将两次日志通过线性关联起来）"></a>10、合并一下代码（虽然远程是一个空的仓库，最好还是执行一下这个操作，这个时候git会将两次日志通过线性关联起来）</h3><pre><code>get rebase origin/master 
</code></pre><h3 id="11、将本地的代码推送到远程gerrit仓库里面，这里加上了-u参数，以后推送都不需要了"><a href="#11、将本地的代码推送到远程gerrit仓库里面，这里加上了-u参数，以后推送都不需要了" class="headerlink" title="11、将本地的代码推送到远程gerrit仓库里面，这里加上了-u参数，以后推送都不需要了,"></a>11、将本地的代码推送到远程gerrit仓库里面，这里加上了-u参数，以后推送都不需要了,</h3><pre><code>git push -u origin HEAD:refs/for/master  
</code></pre><p><em>这个是走了gerrit审核流程的，如果不想走gerrit审核流程的话，就直接使用以这行命令就行了：</em></p>
<pre><code>git push -u origin master
</code></pre><h3 id="12、创建远程dev分支："><a href="#12、创建远程dev分支：" class="headerlink" title="12、创建远程dev分支："></a>12、创建远程dev分支：</h3><pre><code>git push origin master:dev
</code></pre><h3 id="13、基于远程dev分支创建本地dev分支"><a href="#13、基于远程dev分支创建本地dev分支" class="headerlink" title="13、基于远程dev分支创建本地dev分支"></a>13、基于远程dev分支创建本地dev分支</h3><pre><code>git checkout -b dev origin/dev
</code></pre><h2 id="分支的合并："><a href="#分支的合并：" class="headerlink" title="分支的合并："></a>分支的合并：</h2><blockquote>
<p>假设现在有两个分支，一个master分支，一个dev分支，现在dev分支修改了新的东西，然后需要将这些新的代码同步到master分支上面去，操作步骤如下：</p>
</blockquote>
<h3 id="1、首先切换到master主干分支，"><a href="#1、首先切换到master主干分支，" class="headerlink" title="1、首先切换到master主干分支，"></a>1、首先切换到master主干分支，</h3><pre><code>git checkout master
</code></pre><h3 id="2、执行一个pull命令，保持master目前是最新版本"><a href="#2、执行一个pull命令，保持master目前是最新版本" class="headerlink" title="2、执行一个pull命令，保持master目前是最新版本"></a>2、执行一个pull命令，保持master目前是最新版本</h3><pre><code>git pull origin master 或者 git pull
</code></pre><p>建议使用</p>
<pre><code>git fetch origin master

git rebase origin/master
</code></pre><h3 id="3、合并dev分支到master分支上"><a href="#3、合并dev分支到master分支上" class="headerlink" title="3、合并dev分支到master分支上"></a>3、合并dev分支到master分支上</h3><pre><code>git merge --no-ff dev
</code></pre><h3 id="4、推送master本地分支代码到远程分支"><a href="#4、推送master本地分支代码到远程分支" class="headerlink" title="4、推送master本地分支代码到远程分支"></a>4、推送master本地分支代码到远程分支</h3><pre><code>git push origin master
</code></pre><h3 id="创建远程dev分支："><a href="#创建远程dev分支：" class="headerlink" title="创建远程dev分支："></a>创建远程dev分支：</h3><pre><code>git push origin master:dev
</code></pre><h3 id="基于远程dev分支创建本地dev分支"><a href="#基于远程dev分支创建本地dev分支" class="headerlink" title="基于远程dev分支创建本地dev分支"></a>基于远程dev分支创建本地dev分支</h3><pre><code>git checkout -b dev origin/dev
</code></pre><h3 id="如何删除分支（包括远程分支和本地分支）"><a href="#如何删除分支（包括远程分支和本地分支）" class="headerlink" title="如何删除分支（包括远程分支和本地分支）"></a>如何删除分支（包括远程分支和本地分支）</h3><h4 id="1、首先在gerrit上面删除远程dev分支"><a href="#1、首先在gerrit上面删除远程dev分支" class="headerlink" title="1、首先在gerrit上面删除远程dev分支"></a>1、首先在gerrit上面删除远程dev分支</h4><h4 id="2、再在git-bash中使用"><a href="#2、再在git-bash中使用" class="headerlink" title="2、再在git bash中使用"></a>2、再在git bash中使用</h4><pre><code>git fetch -p 刷新远程分支库
</code></pre><h4 id="3、再删除本地dev分支"><a href="#3、再删除本地dev分支" class="headerlink" title="3、再删除本地dev分支"></a>3、再删除本地dev分支</h4><pre><code>git branch -D dev
</code></pre>
      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/09/21/Java获取服务器的Mac地址/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          Java获取服务器的Mac地址
        
      </div>
    </a>
  
  
    <a href="/2016/09/12/如何配置ngnix兼容PC与APP的分享功能/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">如何配置ngnix兼容PC与APP的分享功能？</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">Share to: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
    <a class="jiathis_button_twitter"></a>
    <a class="jiathis_button_plus"></a> 
    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>






<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="git基础快速入门" data-title="git基础快速入门" data-url="http://yoursite.com/2016/09/21/git基础快速入门/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"true"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 hu1991die
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>